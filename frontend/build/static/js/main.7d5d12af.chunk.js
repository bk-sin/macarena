(this["webpackJsonpmytinerary-acha"]=this["webpackJsonpmytinerary-acha"]||[]).push([[0],{100:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(20),r=a.n(s),i=a(8),o=a(21),l=a(22),u=a(27),j=a(26),d=(a(100),a(156)),m=a(153),p=a(157),b=a(155),h=a.p+"static/media/logo-2.1255069c.png",O=a(85),x=a(11),v=(a(101),a(16)),f=a(9),y=a.n(f),g=a(3),N=a(18),k=a(13),T=a.n(k),C=a(15),I={postUser:function(e){return function(){var t=Object(N.a)(y.a.mark((function t(a,n){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.post("https://mytinerary-acha.herokuapp.com/api/auth/signUp",Object(g.a)({},e));case 3:(c=t.sent).data.success?(localStorage.setItem("token",c.data.response.token),C.b.success("Welcome "+c.data.response.newUser.name,{position:C.b.POSITION.TOP_CENTER}),a({type:"NEW_USER",payload:c.data.response})):C.b.error(c.data.error,{position:C.b.POSITION.TOP_CENTER}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},signIn:function(e,t,a){return function(){var n=Object(N.a)(y.a.mark((function n(c,s){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,T.a.post("https://mytinerary-acha.herokuapp.com/api/auth/signIn",{email:e,password:t,google:a});case 3:(r=n.sent).data.success&&!r.data.error?(localStorage.setItem("token",r.data.response.token),C.b.success("Welcome "+r.data.response.emailExist.name,{position:C.b.POSITION.TOP_CENTER}),c({type:"SIGN_IN",payload:r.data.response})):C.b.error(r.data.error,{position:C.b.POSITION.TOP_CENTER}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()},signToken:function(){return function(){var e=Object(N.a)(y.a.mark((function e(t,a){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,T.a.get("https://mytinerary-acha.herokuapp.com/api/auth",{headers:{Authorization:"Bearer ".concat(n)}});case 4:c=e.sent,t({type:"TOKEN",payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},signOut:function(){return localStorage.removeItem("token"),function(e,t){e({type:"SIGN_OUT",payload:""})}}},S=I,_=a(2);var E={signToken:S.signToken,signOut:S.signOut},w=Object(v.b)((function(e){return{user:e.authReducer.user,token:e.authReducer.token}}),E)((function(e){localStorage.getItem("token")&&!e.token&&e.signToken();var t=Object(_.jsx)(O.a,{});return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(d.a,{collapseOnSelect:!0,className:"nav",expand:"lg",children:Object(_.jsxs)(m.a,{children:[Object(_.jsxs)(d.a.Brand,{href:"/",className:"titulo-logo",children:[Object(_.jsx)("img",{alt:"logo",src:h,className:"logo2"}),Object(_.jsx)("h2",{className:"titulo",children:"MyTinerary"})]}),Object(_.jsx)(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(_.jsx)(d.a.Collapse,{className:"justify-content-end",id:"responsive-navbar-nav",children:Object(_.jsxs)(p.a,{className:"navHome",children:[Object(_.jsx)(x.b,{to:"/",className:"color-font",children:"Home"}),Object(_.jsx)(x.b,{to:"/cities",className:"color-font",children:"Cities"}),e.token?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(b.a,{className:"cont-nav-img",title:Object(_.jsx)("img",{src:e.user.photo?e.user.photo:"../assets/usericon.svg",className:"nav-img",alt:"user_photo"}),id:"basic-nav-dropdown",children:Object(_.jsx)(b.a.Item,{as:x.b,to:"/",onClick:function(){e.signOut()},className:"usuario",children:"Sign out"})})}):Object(_.jsxs)(b.a,{title:t,className:"iconn",id:"basic-nav-dropdown",children:[Object(_.jsx)(b.a.Item,{as:x.b,className:"usuario",to:"/signin",children:"Sign in"}),Object(_.jsx)(b.a.Item,{as:x.b,className:"usuario",to:"/signup",children:"Sign up"})]})]})})]})})})})),R=a(88);function L(){var e=Object(_.jsx)(R.a,{});return Object(_.jsxs)("div",{className:"texto-centro",id:"main-principal",children:[Object(_.jsx)("h1",{children:"MyTinerary"}),Object(_.jsx)("section",{className:"subtitulo",children:Object(_.jsx)("h2",{children:"Find your perfect trip, designed by insiders who know and love their cities!"})}),Object(_.jsxs)(x.b,{to:"/cities",className:"btn-home",children:["Choose your destination ",Object(_.jsx)("span",{className:"icono-flecha",children:e})]})]})}var P=a(89),M=a.n(P),A=a(158),G={getCities:function(){return function(){var e=Object(N.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://mytinerary-acha.herokuapp.com/api/cities");case 2:n=e.sent,t({type:"GET_ALL_CITIES",payload:{response:n.data.response,loading:!1}});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},filterCities:function(e,t){return function(a,n){a({type:"FILTER_CITIES",payload:{cities:e,value:t}})}},getCity:function(e){return function(){var t=Object(N.a)(y.a.mark((function t(a,n){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("https://mytinerary-acha.herokuapp.com/api/city/"+e);case 2:c=t.sent,a({type:"GET_A_CITY_ID",payload:c.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},findCity:function(e,t){return function(a,n){a({type:"GET_A_CITY",payload:{cities:e,id:t}})}},setLoad:function(){return function(e,t){e({type:"SET_LOAD",payload:!0})}}},U=G;var D={getCities:U.getCities},B=Object(v.b)((function(e){return{cities:e.citiesReducer.cities}}),D)((function(e){return!e.cities[0]&&e.getCities(),Object(_.jsx)("div",{children:Object(_.jsx)(M.a,Object(g.a)(Object(g.a)({},{className:"center",centerMode:!1,infinite:!0,slidesToShow:1,speed:900,rows:2,slidesPerRow:2,autoplay:!0,autoplaySpeed:2e3,responsive:[{breakpoint:500,settings:{slidesToShow:1,speed:900,rows:4,slidesPerRow:1}}]}),{},{children:e.cities.length>0&&e.cities.map((function(e,t){if(t<12)return Object(_.jsx)("div",{className:"tarjetass",children:Object(_.jsxs)(A.a,{className:"mt-2 tarjeta",children:[Object(_.jsx)(A.a.Img,{variant:"top",src:e.src}),Object(_.jsx)(A.a.Body,{children:Object(_.jsx)(A.a.Title,{children:e.name})})]})},e.name)}))}))})}));function Y(){return Object(_.jsxs)("div",{className:"carrusel-padre",children:[Object(_.jsx)("h2",{className:"popular",children:"Popular MyTineraries"}),Object(_.jsx)(m.a,{className:"tarjetas",children:Object(_.jsx)(B,{})})]})}var q=a.p+"static/media/logo-blanco.92eceabb.png",z=a(36),F=a(91),H=a(90);function W(){return Object(_.jsx)("div",{className:"footer",children:Object(_.jsxs)("div",{className:"contacto-footer",children:[Object(_.jsx)("div",{className:"logo-footer",children:Object(_.jsx)("img",{alt:"logo-footer",src:q,className:"logofooter"})}),Object(_.jsxs)("nav",{className:"nav-2",children:[Object(_.jsx)(x.b,{to:"/",className:"nav2",children:"Home"}),Object(_.jsx)(x.b,{to:"/cities",className:"nav2",children:"Cities"}),Object(_.jsx)(x.b,{to:"/signin",className:"nav2",children:"Sign in"}),Object(_.jsx)(x.b,{to:"/signup",className:"nav2",children:"Sing up"})]}),Object(_.jsxs)("div",{className:"contacto",children:[Object(_.jsx)("p",{className:"direccion",children:"100-108 W Centre St, Baltimore, MD 21201, EE.UU."}),Object(_.jsx)("p",{className:"mail",children:"info@mytinerary.com"}),Object(_.jsx)("p",{className:"telefono",children:"+44 20 3500 0202"})]}),Object(_.jsxs)("div",{className:"social-icons",children:[Object(_.jsx)(H.a,{className:"social-icons2"}),Object(_.jsx)(z.a,{className:"social-icons2"}),Object(_.jsx)(z.b,{className:"social-icons2"}),Object(_.jsx)(F.a,{className:"social-icons2"})]})]})})}var V=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"encabezado",children:[Object(_.jsx)(w,{}),Object(_.jsx)(L,{})]}),Object(_.jsx)(Y,{}),Object(_.jsx)(W,{}),Object(_.jsx)("p",{className:"copyright",children:"\xa9MyTinerary | Proyect2021"})]})}}]),a}(c.a.Component),K=a(154),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=Object(n.useRef)(!1);t.current||(e(),t.current=!0)};var Q={filterCities:U.filterCities,getCities:U.getCities,setLoad:U.setLoad},X=Object(v.b)((function(e){return{cities:e.citiesReducer.cities,auxiliar:e.citiesReducer.auxiliar,loading:e.citiesReducer.loading}}),Q)((function(e){return!e.cities[0]&&e.getCities(),J((function(){e.setLoad()})),Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:"contenedor-ciudades container",children:[Object(_.jsx)("input",{onChange:function(t){return e.filterCities(e.cities,t.target.value.toLocaleLowerCase().trim())},type:"text",className:"buscador",placeholder:"Search a City"}),Object(_.jsx)("div",{className:"card-ciudad",children:e.cities.length>0?e.auxiliar.length>0?e.auxiliar.map((function(e){return Object(_.jsx)(x.b,{to:"/city/".concat(e._id),children:Object(_.jsxs)("div",{className:"card-imagen ",children:[Object(_.jsx)("img",{className:"imagen",alt:e.name,src:e.src},e._id),Object(_.jsx)("div",{className:"texto-ciudades",children:Object(_.jsxs)("p",{className:"texto",children:[e.name,Object(_.jsxs)("span",{className:"country",children:[", ",e.country]})]})})]})},e._id)})):Object(_.jsx)("h3",{className:"sin-resultados",children:"No results found, try another search"}):Object(_.jsx)(K.a,{className:"spinner",animation:"border",variant:"danger"})})]})})})),Z=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"back-ciudades",children:[Object(_.jsx)(w,{}),Object(_.jsx)("div",{className:"cont-titulo1 container",children:Object(_.jsx)("h1",{className:"titulo-ciudades",children:"Cities"})})]}),Object(_.jsx)(X,{}),Object(_.jsx)(W,{}),Object(_.jsx)("p",{className:"copyright",children:"\xa9MyTinerary | Proyect2021"})]})}}]),a}(n.Component),$=Z,ee={getItineraries:function(e){return function(){var t=Object(N.a)(y.a.mark((function t(a,n){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("https://mytinerary-acha.herokuapp.com/api/itinerary/"+e);case 2:c=t.sent,a({type:"GET_ITINERARY",payload:c.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},likes:function(e,t,a){return function(){var n=Object(N.a)(y.a.mark((function n(c,s){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!t){n.next=9;break}return n.next=3,T.a.put("https://mytinerary-acha.herokuapp.com/api/like/",{itineraryId:t,userId:e});case 3:return n.next=5,T.a.get("https://mytinerary-acha.herokuapp.com/api/itinerary/"+a);case 5:r=n.sent,c({type:"GET_LIKES",payload:r.data.response}),n.next=10;break;case 9:C.b.warning("You need to sign in",{position:C.b.POSITION.TOP_CENTER});case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},getComments:function(e){return function(){var t=Object(N.a)(y.a.mark((function t(a,n){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("https://mytinerary-acha.herokuapp.com/api/comments/"+e);case 2:c=t.sent,a({type:"GET_COMMENTS",payload:c.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},getAllComments:function(){return function(){var e=Object(N.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://mytinerary-acha.herokuapp.com/api/comments");case 2:n=e.sent,t({type:"GET_ALL_COMMENTS",payload:n.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},postComments:function(e,t,a){return function(){var n=Object(N.a)(y.a.mark((function n(c,s){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||!e){n.next=9;break}return n.next=3,T.a.post("https://mytinerary-acha.herokuapp.com/api/comments/"+e,{user:t,message:a});case 3:return n.next=5,T.a.get("https://mytinerary-acha.herokuapp.com/api/comments");case 5:r=n.sent,c({type:"POST_COMMENTS",payload:r.data.response}),n.next=10;break;case 9:C.b.warning("You need to sign in",{position:C.b.POSITION.TOP_CENTER});case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},editComments:function(e,t){return function(){var a=Object(N.a)(y.a.mark((function a(n,c){var s,r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=localStorage.getItem("token"),a.next=3,T.a.put("https://mytinerary-acha.herokuapp.com/api/comments",{commentId:e,message:t},{headers:{Authorization:"Bearer ".concat(s)}});case 3:return a.next=5,T.a.get("https://mytinerary-acha.herokuapp.com/api/comments");case 5:r=a.sent,n({type:"EDIT_COMMENTS",payload:r.data.response});case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},deleteComments:function(e){return function(){var t=Object(N.a)(y.a.mark((function t(a,n){var c,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=localStorage.getItem("token"),t.next=3,T.a.delete("https://mytinerary-acha.herokuapp.com/api/comments/"+e,{headers:{Authorization:"Bearer ".concat(c)}});case 3:return t.next=5,T.a.get("https://mytinerary-acha.herokuapp.com/api/comments");case 5:s=t.sent,a({type:"DELETE_COMMENTS",payload:s.data.response});case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},te=ee,ae=a(6),ne={getActivities:function(){return function(){var e=Object(N.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://mytinerary-acha.herokuapp.com/api/activities");case 2:n=e.sent,t({type:"GET_ACTIVITIES",payload:n.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}},ce=ne,se=a(69),re=a.n(se),ie=a(93),oe=a(92);var le={editComments:te.editComments,deleteComments:te.deleteComments},ue=Object(v.b)(null,le)((function(e){var t=Object(_.jsx)(oe.a,{}),a=Object(_.jsx)(ie.a,{}),c=Object(n.useRef)(),s=Object(n.useState)(!1),r=Object(ae.a)(s,2),i=r[0],o=r[1];return Object(_.jsxs)("div",{className:"comentario",children:[e.comment.user&&Object(_.jsxs)("div",{className:"comentario-cont",children:[Object(_.jsx)("img",{className:"foto-comentario",src:e.comment.user.photo}),Object(_.jsxs)("div",{className:"texto-comentario",children:[Object(_.jsx)("h5",{className:"titulo-name",children:e.comment.user.name}),Object(_.jsx)("p",{className:"msj-comentario",children:e.comment.message})]})]}),Object(_.jsxs)("div",{className:"btn-comentarios",children:[e.comment.user&&e.comment.user._id===e.user._id&&Object(_.jsxs)("div",{className:"editor",children:[Object(_.jsxs)("p",{className:"btn-cursor btn-edit",onClick:function(){o(!i)},children:[t," "]}),i&&Object(_.jsx)("div",{className:"editor",children:Object(_.jsxs)("form",{className:"editor",onSubmit:function(t){t.preventDefault(),o(!i),e.editComments(e.comment._id,c.current.value),c.current.value=""},children:[Object(_.jsx)("input",{ref:c,type:"text",className:"comentar",placeholder:"edit your comment"}),Object(_.jsx)("input",{className:"btn-editor",type:"submit",value:"Submit"})]})})]}),e.comment.user&&e.comment.user._id===e.user._id&&Object(_.jsx)("p",{className:"btn-cursor eliminar",onClick:function(){re()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this imaginary file!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t?(e.deleteComments(e.comment._id),re()("Poof! Your imaginary file has been deleted!",{icon:"success"})):re()("Your imaginary file is safe!")}))},children:a})]})]})}));var je={getActivities:ce.getActivities,getAllComments:te.getAllComments,postComments:te.postComments,likes:te.likes},de=Object(v.b)((function(e){return{comments:e.itinerariesReducer.comments}}),je)((function(e){var t=Object(_.jsx)(z.c,{}),a=Object(_.jsx)(z.d,{}),c=Object(n.useState)(!1),s=Object(ae.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)(""),l=Object(ae.a)(o,2),u=l[0],j=l[1],d=Object(n.useState)(""),m=Object(ae.a)(d,2),p=m[0],b=m[1];localStorage.getItem("token")||""!==u||j(!1),e.itinerary&&""===u&&""===p&&(e.user&&j(e.itinerary.likes.some((function(t){return t===e.user._id}))),b(e.itinerary.likes.length)),Object(n.useEffect)((function(){!e.activities[0]&&e.getActivities(e.itinerary._id)}),[e.activities]);var h,O=Object(n.useRef)();return Object(_.jsx)("div",{className:"itinerarios",children:Object(_.jsxs)(A.a,{className:"card-itinerary",children:[Object(_.jsx)(A.a.Header,{className:"header-itinerary color-texto",children:e.itinerary.title}),Object(_.jsxs)(A.a.Body,{className:"card-body",children:[Object(_.jsxs)("div",{className:"cont-card",children:[Object(_.jsxs)("div",{className:"usuario",children:[Object(_.jsx)("img",{className:"foto-perfil",variant:"top",src:e.itinerary.src},e.itinerary._id),Object(_.jsx)("p",{children:e.itinerary.name})]}),Object(_.jsxs)("div",{className:"texto-itinerario",children:[Object(_.jsxs)("div",{className:"duracion-costo",children:[Object(_.jsxs)("div",{className:"horas",children:[Object(_.jsx)("p",{className:"hora",children:t}),Object(_.jsxs)("p",{className:"duracion",children:[e.itinerary.duration,"Hs"]})]}),Object(_.jsxs)("div",{className:"precio",children:[Object(_.jsx)("p",{className:"color-texto",children:"Price:"})," ",(h=e.itinerary.price,Array.from({length:h})).map((function(e){return Object(_.jsx)("span",{className:"plata",children:a},e+1)}))]}),Object(_.jsxs)("div",{className:"like",children:[Object(_.jsx)("p",{className:"corazones",onClick:function(){localStorage.getItem("token")&&e.user.email?(j(!u),b(u?p-1:p+1),console.log(e.params),e.likes(e.user._id,e.itinerary._id,e.params)):C.b.warning("Please sign in to like this itinerary",{position:C.b.POSITION.TOP_CENTER})},children:u?Object(_.jsx)("img",{className:"corazon",src:"../assets/like-rojo.png"}):Object(_.jsx)("img",{className:"corazon",src:"../assets/like.png"})}),Object(_.jsx)("p",{children:p})]})]}),Object(_.jsx)("div",{className:"hashtags",children:e.itinerary.hashtags.map((function(e,t){return Object(_.jsxs)("div",{className:"color-texto hashtag",children:[" #",e]},e)}))})]})]}),Object(_.jsx)("div",{className:"actividades",children:r&&e.activities[0]&&e.activities.map((function(t){if(t.itinerary._id===e.itinerary._id)return Object(_.jsx)("div",{className:"actividad",children:Object(_.jsx)("div",{className:"activit-img",style:{backgroundImage:'url("'.concat(t.image,'")')},children:Object(_.jsx)("h3",{className:"activit-titulo",children:t.title})})})}))}),r&&Object(_.jsxs)("div",{className:"formu-comentarios",children:[Object(_.jsx)("div",{className:"titulo-comentarios",children:Object(_.jsx)("h3",{className:"comentario-titulo",children:"Comments"})}),e.comments&&e.comments.map((function(t){if(t.itinerary===e.itinerary._id)return Object(_.jsx)("div",{className:"fondo-comentario",children:Object(_.jsx)(ue,{comment:t,itinerary:e.itinerary._id,user:e.user})})}))]}),r&&Object(_.jsxs)("form",{className:"input-comentar",onSubmit:function(t){t.preventDefault(),e.postComments(e.itinerary._id,e.user._id,O.current.value),O.current.value=""},children:[Object(_.jsx)("input",{ref:O,type:"text",className:"comentar-input",placeholder:"Leave your comment here"}),Object(_.jsx)("input",{className:"btn-submit btn-comentar",type:"submit",value:"Submit"})]}),Object(_.jsxs)("button",{onClick:function(){i(!r),e.getActivities(e.itinerary._id),e.getAllComments()},className:"btn-ver",children:[" ",r?"View less":"View more"]})]})]})},e.itinerary._id)}));var me={getCity:U.getCity,getCities:U.getCities,getItineraries:te.getItineraries,setLoad:U.setLoad},pe=Object(v.b)((function(e){return{city:e.citiesReducer.city,itineraries:e.itinerariesReducer.itineraries,loading:e.citiesReducer.loading,activities:e.activitiesReducer.activities,token:e.authReducer.token,user:e.authReducer.user}}),me)((function(e){var t=Object(i.g)();J((function(){e.setLoad()})),Object(n.useEffect)((function(){e.getCity(t.id),e.getItineraries(t.id)}),[]);var a={backgroundImage:"url("+e.city.src+")"};return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"hero-city",style:a,children:Object(_.jsx)(w,{})},e.city._id),Object(_.jsx)("div",{className:"cont-titulo",children:Object(_.jsx)("h3",{className:"titulito",children:e.city.name})}),Object(_.jsx)("div",{className:"cont-texto container",children:Object(_.jsx)("p",{className:"texto-city",children:e.city.description})}),e.city?e.itineraries.length>0?e.itineraries.map((function(a,n){return Object(_.jsx)(de,{itinerary:a,params:t.id,user:e.user,activities:e.activities},n)})):Object(_.jsx)("h2",{className:"mensaje-construccion",children:"There are not itineraries for this city yet..."}):Object(_.jsx)(K.a,{className:"spinner",animation:"border",variant:"danger"})]})})),be=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)(pe,{}),Object(_.jsx)("div",{className:"main",children:Object(_.jsxs)("div",{className:"btns-volver",children:[Object(_.jsx)(x.b,{to:"/cities",className:"btn-volver",children:"Go back to Cities"}),Object(_.jsx)(x.b,{to:"/",className:"btn-volver",children:"Go back to Home"})]})}),Object(_.jsxs)("div",{children:[Object(_.jsx)(W,{}),Object(_.jsx)("p",{className:"copyright",children:"\xa9MyTinerary | Proyect2021"})]})]})}}]),a}(n.Component),he=be,Oe=["Argentina","Bolivia","Brazil","Chile","Venezuela","Mexico","Spain","France","Germany","Italy","Poland","United State","England","Bahamas"],xe=a(67),ve=a.n(xe);var fe={postUser:S.postUser,signToken:S.signToken},ye=Object(v.b)((function(e){return{user:e.authReducer.user,token:e.authReducer.token}}),fe)((function(e){var t=Object(i.f)();localStorage.getItem("token")&&!e.token&&e.signToken(),e.token&&t("/",{replace:!0});var a=function(t){var a={name:t.profileObj.givenName,lastName:t.profileObj.familyName,email:t.profileObj.email,password:t.profileObj.googleId,photo:t.profileObj.imageUrl,country:"Argentina",google:!0};e.postUser(a)},c=Object(n.useRef)(),s=Object(n.useRef)(),r=Object(n.useRef)(),o=Object(n.useRef)(),l=Object(n.useRef)(),u=Object(n.useRef)();return Object(_.jsx)("div",{className:"contenedor-formu",children:Object(_.jsxs)("div",{className:"cont-formulario",children:[Object(_.jsx)("h2",{className:"titulo-sup",children:"Create an account"}),Object(_.jsxs)("form",{className:"formulario",onSubmit:function(t){t.preventDefault(),e.postUser({name:c.current.value,lastName:s.current.value,email:r.current.value,password:o.current.value,photo:l.current.value,country:u.current.value}),c.current.value="",s.current.value="",r.current.value="",o.current.value="",l.current.value="",u.current.value=""},children:[Object(_.jsxs)("div",{className:"inputs",children:[Object(_.jsx)("input",{type:"text",ref:c,required:!0,minLength:"3",maxLength:"25",className:"input",name:"name",placeholder:"Name"}),Object(_.jsx)("input",{type:"text",ref:s,className:"input",name:"lastName",required:!0,maxLength:"25",placeholder:"Last Name"}),Object(_.jsx)("input",{type:"text",ref:r,className:"input",name:"email",required:!0,placeholder:"Email"}),Object(_.jsx)("input",{type:"password",ref:o,className:"input",name:"password",required:!0,minLength:"8",maxLength:"20",placeholder:"Password"}),Object(_.jsx)("input",{type:"text",ref:l,className:"input",name:"photo",required:!0,placeholder:"URL de la foto"}),Object(_.jsx)("select",{ref:u,className:"input",children:Oe.sort().map((function(e){return Object(_.jsx)("option",{value:"country",className:"color-pais",children:e},e)}))})]}),Object(_.jsx)("div",{className:"submit",children:Object(_.jsx)("input",{type:"submit",value:"Submit",className:"btn-submit"})}),Object(_.jsx)("div",{className:"btn-google",children:Object(_.jsx)(ve.a,{clientId:"113911854537-8j68k30a4qpl884ffcvk7hvdfmsdlfnc.apps.googleusercontent.com",buttonText:"Sign Up with Google",onSuccess:a,onFailure:a,cookiePolicy:"single_host_origin"})})]}),Object(_.jsxs)("div",{className:"btn-cont-sign",children:[Object(_.jsx)("p",{className:"texto-sign",children:"Do you already have an account?"}),Object(_.jsx)(x.b,{to:"/signin",className:"btn-sign",children:"Sign in"})]})]})})})),ge=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"back-img",children:[Object(_.jsx)(w,{}),Object(_.jsx)("div",{className:"mainSignUp",children:Object(_.jsx)(ye,{})})]}),Object(_.jsx)(W,{}),Object(_.jsx)("p",{className:"copyright",children:"\xa9MyTinerary | Proyect2021"})]})}}]),a}(n.Component),Ne=ge;var ke={signToken:S.signToken,signIn:S.signIn},Te=Object(v.b)((function(e){return{token:e.authReducer.token}}),ke)((function(e){var t=Object(i.f)(),a=function(t){e.signIn(t.profileObj.email,t.profileObj.googleId,!0)};localStorage.getItem("token")&&!e.token&&e.signToken(),e.token&&t("/",{replace:!0});var c=Object(n.useRef)(),s=Object(n.useRef)();return Object(_.jsx)("div",{className:"contenedor-formu",children:Object(_.jsxs)("div",{className:"cont-formulario",children:[Object(_.jsx)("h2",{className:"titulo-sup",children:"Sign in MyTinerary now"}),Object(_.jsxs)("form",{className:"formulario",onSubmit:function(t){t.preventDefault(),e.signIn(c.current.value,s.current.value),c.current.value="",s.current.value=""},children:[Object(_.jsxs)("div",{className:"inputs",children:[Object(_.jsx)("input",{type:"text",ref:c,className:"input",name:"email",placeholder:"Email",required:!0}),Object(_.jsx)("input",{type:"password",ref:s,className:"input",name:"password",placeholder:"Password",required:!0})]}),Object(_.jsx)("div",{className:"submit",children:Object(_.jsx)("input",{className:"btn-submit",type:"submit",value:"Submit"})})]}),Object(_.jsx)(ve.a,{clientId:"113911854537-8j68k30a4qpl884ffcvk7hvdfmsdlfnc.apps.googleusercontent.com",buttonText:"Sign in with Google",onSuccess:a,onFailure:a,cookiePolicy:"single_host_origin"}),Object(_.jsxs)("div",{className:"btn-cont-sign",children:[Object(_.jsx)("p",{className:"texto-sign",children:"You don't have an account yet?"}),Object(_.jsx)(x.b,{to:"/signup",className:"btn-sign",children:"Sign up"})]})]})})})),Ce=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"back-img",children:[Object(_.jsx)(w,{}),Object(_.jsx)("div",{className:"mainSignUp",children:Object(_.jsx)(Te,{})})]}),Object(_.jsx)(W,{}),Object(_.jsx)("p",{className:"copyright",children:"\xa9MyTinerary | Proyect2021"})]})}}]),a}(n.Component),Ie=Ce;var Se=function(){return Object(_.jsxs)(i.c,{children:[Object(_.jsx)(i.a,{path:"/",element:Object(_.jsx)(V,{})}),Object(_.jsx)(i.a,{path:"/signup",element:Object(_.jsx)(Ne,{})}),Object(_.jsx)(i.a,{path:"/signin",element:Object(_.jsx)(Ie,{})}),Object(_.jsx)(i.a,{path:"/cities",element:Object(_.jsx)($,{})}),Object(_.jsx)(i.a,{path:"/city/:id",element:Object(_.jsx)(he,{})})]})};a(144),a(145),a(146);function _e(){return Object(_.jsxs)(x.a,{children:[Object(_.jsx)(C.a,{autoClouse:5e3}),Object(_.jsx)(Se,{})]})}var Ee=a(53),we=a(94),Re={state:[],cities:[],auxiliar:[],city:{},loading:!0},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CITIES":return Object(g.a)(Object(g.a)({},e),{},{cities:t.payload.response,auxiliar:t.payload.response,loading:t.payload.loading});case"FILTER_CITIES":var a=t.payload.cities.filter((function(e){return e.name.toLowerCase().startsWith(t.payload.value.toLowerCase())}));return Object(g.a)(Object(g.a)({},e),{},{auxiliar:a});case"GET_A_CITY_ID":return Object(g.a)(Object(g.a)({},e),{},{city:t.payload});case"GET_A_CITY":var n=t.payload.cities.find((function(e){return e._id===t.payload.id}));return Object(g.a)(Object(g.a)({},e),{},{city:n});case"SET_LOAD":return Object(g.a)(Object(g.a)({},e),{},{loading:t.payload});default:return e}},Pe={state:[],itineraries:[],comments:[]},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARY":case"GET_LIKES":return Object(g.a)(Object(g.a)({},e),{},{itineraries:t.payload});case"GET_ALL_COMMENTS":case"POST_COMMENTS":case"EDIT_COMMENTS":case"DELETE_COMMENTS":return Object(g.a)(Object(g.a)({},e),{},{comments:t.payload});default:return e}},Ae={state:[],user:{},token:""},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_USER":case"SIGN_IN":return Object(g.a)(Object(g.a)({},e),{},{user:t.payload});case"TOKEN":case"SIGN_OUT":return Object(g.a)(Object(g.a)({},e),{},{token:t.payload,user:t.payload});default:return e}},Ue={state:[],activities:[]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;return"GET_ACTIVITIES"===t.type?Object(g.a)(Object(g.a)({},e),{},{activities:t.payload}):e},Be=Object(Ee.b)({citiesReducer:Le,itinerariesReducer:Me,authReducer:Ge,activitiesReducer:De}),Ye=Object(Ee.c)(Be,Object(Ee.a)(we.a));r.a.render(Object(_.jsx)(v.a,{store:Ye,children:Object(_.jsx)(_e,{})}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.7d5d12af.chunk.js.map